<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snake Game | atsuchak</title>
    <style>
        /* ---------- RESET ---------- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        html,
        body {
            height: 100%
        }

        /* ---------- GLOBAL ---------- */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            background: #121212;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, sans-serif
        }

        h1 {
            color: #00ff95;
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: .3rem
        }

        .score-box {
            font-size: 1.1rem;
            margin-bottom: .8rem
        }

        .score-box span {
            margin: 0 .6rem
        }

        /* ---------- FLEX WRAPPER ---------- */
        .main {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.4rem;
            /* mobile default spacing */
        }

        /* ---------- GAME BOARD ---------- */
        #game-board {
            width: 60vmin;
            /* square via width + aspect-ratio */
            aspect-ratio: 1/1;
            background: #1e1e1e;
            display: grid;
            grid-template: repeat(20, 1fr)/repeat(20, 1fr);
            border: 4px solid #00ff95;
            border-radius: 10px;
            box-shadow: 0 0 18px #00ff9570
        }

        .snake {
            background: #00ff95;
            border-radius: 4px
        }

        .food {
            background: #ff3c38;
            border-radius: 50%
        }

        /* ---------- CONTROLS ---------- */
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.2rem
        }

        .row {
            display: flex;
            gap: 4rem;
            justify-content: center
        }

        .btn {
            background: #232323;
            border: 1px solid #00ff95;
            color: #00ff95;
            font-size: 1.6rem;
            padding: 20px 26px;
            border-radius: 8px;
            cursor: pointer;
            transition: .2s;
            min-width: 80px;
            min-height: 80px
        }

        .btn:hover {
            background: #00ff95;
            color: #121212
        }

        #start-btn {
            background: #00ff95;
            color: #121212;
            border: none;
            font-size: 1.3rem;
            padding: 16px 36px;
            border-radius: 8px
        }

        #start-btn:hover {
            background: #00d681
        }

        /* ---------- DESKTOP ≥768px ---------- */
        @media(min-width:768px) {
            .main {
                flex-direction: row;
                align-items: flex-start;
                gap: 3rem
            }

            .side {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2rem;
                margin-top: .5rem
            }

            /* make board a bit larger on big screens but keep within viewport */
            #game-board {
                width: 50vmin
            }
        }

        @media(min-width:1200px) {
            #game-board {
                width: 45vmin
            }
        }
    </style>
</head>

<body>
    <div class="main">
        <!-- Board -->
        <div>
            <h1>Snake Game</h1>
            <div class="score-box">
                <span>Score: <span id="score">0</span></span>
                <span>High Score: <span id="high-score">0</span></span>
            </div>
            <div id="game-board"></div>
        </div>

        <!-- Controls + Start (side column for desktop) -->
        <div class="side">
            <div class="controls">
                <button class="btn" id="up">↑</button>
                <div class="row">
                    <button class="btn" id="left">←</button>
                    <button class="btn" id="right">→</button>
                </div>
                <button class="btn" id="down">↓</button>
            </div>
            <button id="start-btn">Start Game</button>
        </div>
    </div>

    <script>
        /* ---------- GAME LOGIC ---------- */
        const board = document.getElementById('game-board');
        const scoreDisplay = document.getElementById('score');
        const highScoreDisplay = document.getElementById('high-score');
        const startBtn = document.getElementById('start-btn');

        let snake = [{ x: 9, y: 9 }], direction = { x: 1, y: 0 }, food = { x: 5, y: 5 };
        let score = 0, highScore = 0, loop;

        /* Start & Reset */
        startBtn.onclick = () => { reset(); start() };
        function start() { clearInterval(loop); document.onkeydown = dirKey; placeFood(); loop = setInterval(tick, 120); }
        function reset() { snake = [{ x: 9, y: 9 }]; direction = { x: 1, y: 0 }; score = 0; scoreDisplay.textContent = score; render(); }

        /* Direction via keys & buttons */
        function dirKey(e) {
            if (e.key === 'ArrowUp' && !direction.y) direction = { x: 0, y: -1 };
            if (e.key === 'ArrowDown' && !direction.y) direction = { x: 0, y: 1 };
            if (e.key === 'ArrowLeft' && !direction.x) direction = { x: -1, y: 0 };
            if (e.key === 'ArrowRight' && !direction.x) direction = { x: 1, y: 0 };
        }
        ['up', 'down', 'left', 'right'].forEach(id => {
            document.getElementById(id).onclick = _ => {
                if (id === 'up' && !direction.y) direction = { x: 0, y: -1 };
                if (id === 'down' && !direction.y) direction = { x: 0, y: 1 };
                if (id === 'left' && !direction.x) direction = { x: -1, y: 0 };
                if (id === 'right' && !direction.x) direction = { x: 1, y: 0 };
            };
        });

        /* Food & Tick */
        function placeFood() { food.x = Math.floor(Math.random() * 20); food.y = Math.floor(Math.random() * 20); }
        function tick() {
            const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };
            if (head.x < 0 || head.x > 19 || head.y < 0 || head.y > 19 || snake.some(s => s.x === head.x && s.y === head.y)) {
                clearInterval(loop); alert('Game Over! Score: ' + score);
                highScore = Math.max(highScore, score); highScoreDisplay.textContent = highScore; reset(); return;
            }
            snake.unshift(head);
            if (head.x === food.x && head.y === food.y) { score++; scoreDisplay.textContent = score; placeFood(); }
            else snake.pop();
            render();
        }

        /* Render */
        function render() {
            board.innerHTML = '';
            snake.forEach(s => {
                const d = document.createElement('div'); d.className = 'snake';
                d.style.gridRowStart = s.y + 1; d.style.gridColumnStart = s.x + 1; board.appendChild(d);
            });
            const f = document.createElement('div'); f.className = 'food';
            f.style.gridRowStart = food.y + 1; f.style.gridColumnStart = food.x + 1; board.appendChild(f);
        }
        render();
    </script>
</body>

</html>